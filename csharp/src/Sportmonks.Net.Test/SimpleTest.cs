/*
 * SportMonks
 *
 * Surpass the competition with superior sports data
 *
 * The version of the OpenAPI document: 1.0.0
 * Generated by: https://konfigthis.com
 */


using System;
using Xunit;
using Sportmonks.Net.Client;
using Sportmonks.Net.Model;

namespace Sportmonks.Net.Test
{
    /// <remarks>
    /// Boilerplate for writing some simple tests
    /// </remarks>
    public class SimpleTests : IDisposable
    {
        public SimpleTests()
        {
            // Setup
        }

        public void Dispose()
        {
            // Cleanup when everything is done.
        }

        /// <summary>
        /// Test Client Initialization
        /// </summary>
        [Fact]
        public void ClientTest()
        {
            SportmonksClient client = new SportmonksClient();
            // Configure custom BasePath if desired
            client.SetBasePath("https://api.sportmonks.com");
            client.SetVersion("VERSION");
            client.SetSport("SPORT");
            // Configure API key authorization: apikeyAuth
            client.SetApiKey("YOUR_API_KEY");

            Assert.NotNull(client);
        }

        /// <summary>
        /// Simple Test
        /// </summary>
        [Fact]
        public void SimpleTest()
        {
            SportmonksClient client = new SportmonksClient();
            client.SetVersion("v3");
            client.SetSport("football");
            client.SetApiKey(Environment.GetEnvironmentVariable("SPORTMONKS_API_TOKEN"));
            SportTeamsAllResponse sportTeamsAllResponse = client.Sport.TeamsAll();
            decimal id = sportTeamsAllResponse.Data[0].Id;
            SportSquadsByTeamIdResponse sportSquadsByTeamIdResponse = client.Sport.SquadsByTeamId(
                ((int)id)
            );
            Console.WriteLine(sportSquadsByTeamIdResponse);
        }

        /// <summary>
        /// Countries All Test
        /// </summary>
        [Fact]
        public void CountriesAllTest()
        {
            SportmonksClient client = new SportmonksClient();
            // Configure custom BasePath if desired
            client.SetBasePath("https://api.sportmonks.com");
            client.SetVersion("v3");
            client.SetSport("football");
            // Configure API key authorization: apikeyAuth
            client.SetApiKey(Environment.GetEnvironmentVariable("SPORTMONKS_API_TOKEN"));

            var version = "v3"; // string | The version of the API. (optional)

            try
            {
                // All
                CountriesAllResponse result = client.Countries.All(version);
                Console.WriteLine(result);
            }
            catch (ApiException e)
            {
                Console.WriteLine("Exception when calling CountriesApi.All: " + e.Message);
                Console.WriteLine("Status Code: " + e.ErrorCode);
                Console.WriteLine(e.StackTrace);
            }
            catch (ClientException e)
            {
                Console.WriteLine(e.Response.StatusCode);
                Console.WriteLine(e.Response.RawContent);
                Console.WriteLine(e.InnerException);
            }
        }
    }
}
